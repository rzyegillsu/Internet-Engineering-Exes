# ارائه‌ی کوتاه – امنیت، CORS و Validation

## اسلاید 1 – مقدمه
- هدف پروژه: رساندن API به سطح Production
- فاز دوم: تمرکز بر امنیت، اعتبارسنجی و مشاهده‌پذیری

## اسلاید 2 – معماری کلی
- ساختار MVC + میان‌افزارهای زنجیره‌ای
- Request Flow از Helmet تا کنترلر (نمودار در گزارش)

## اسلاید 3 – امنیت لایه شبکه
- استفاده از HTTPS اختیاری با گواهی محلی
- Helmet برای هدرهای امنیتی و جلوگیری از Clickjacking/XSS
- Rate Limiting و Timeout برای جلوگیری از حملات DoS

## اسلاید 4 – احراز هویت و مجوز
- API Key در تمام درخواست‌ها برای جلوگیری از دسترسی ناخواسته
- JWT برای محافظت از مسیرهای `/api/**`
- مدیریت Refresh Token و Blacklist در مدل کاربر

## اسلاید 5 – CORS و کنترل دامنه‌ها
- کنترل پویا با متغیر ALLOWED_ORIGINS
- پاسخ صحیح به preflight و اجازه‌ی هدر `X-API-Key`
- سناریوی خطای 403 برای دامنه‌های ناشناس

## اسلاید 6 – اعتبارسنجی داده‌ها
- استفاده از `express-validator` برای فیلدهای `name` و `age`
- میان‌افزار `validateRequest` جهت تبدیل خطاها به قالب استاندارد
- جلوگیری از Injection با trim و type checking

## اسلاید 7 – قالب‌بندی و مدیریت خطا
- `formatResponse` برای خروجی متحدالشکل
- `asyncHandler` برای جمع‌آوری خطاهای Promise
- `errorHandler` مشترک برای ثبت و ارسال خطاها

## اسلاید 8 – مشاهده‌پذیری و لاگ
- Morgan (کنسول + فایل `access.log`)
- نمونه لاگ‌ها و نحوه‌ی ردیابی درخواست‌ها
- قابلیت توسعه جهت ارسال به Grafana/ELK

## اسلاید 9 – نتایج تست و جمع‌بندی
- پوشش سناریوهای کلیدی با `npm test`
- گام‌های بعدی: اتصال به MongoDB و Dockerize
